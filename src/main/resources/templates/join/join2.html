<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/default}">

<th:block layout:fragment="content">
    <!-- Page content-->
    <section class="py-5">
        <div class="container px-5">

            <!-- Contact form-->
            <div class="bg-light rounded-3 py-5 px-4 px-md-5 mb-5">

                <div class="text-center mb-5">
                    <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3">
                        <i class="bi bi-person-check-fill"></i>
                    </div>
                    <h1 class="fw-bolder">회원가입</h1>
                    <p class="lead fw-normal text-muted mb-0">회원정보를 입력해주세요.</p>
                </div>

                <div class="container d-flex justify-content-center">
                    <div style="max-width: 600px; width: 100%;">
                        <form id="form" class="needs-validation" novalidate>

                            <!-- User ID + 중복확인 -->
                            <div class="mb-3 col-md-12">
                                <label for="userId" class="form-label">아이디</label>
                                <div class="input-group mb-3">
                                    <input type="text" class="form-control" placeholder="" aria-describedby="userId-check" id="userId" name="userId" required>
                                    <button class="btn btn-outline-secondary" type="button" id="userId-check">중복확인</button>
                                </div>
                                <div class="invalid-feedback">필수 입력값입니다.</div>
                            </div>

                            <!-- User Name -->
                            <div class="mb-3 col-md-12">
                                <label for="userNm" class="form-label">이름</label>
                                <input type="text" class="form-control" id="userNm" name="userNm" required="">
                                <div class="invalid-feedback">필수 입력값입니다.</div>
                            </div>

                            <div class="row">
                                <!-- Password -->
                                <div class="mb-3 col-md-6">
                                    <label for="password" class="form-label">비밀번호</label>
                                    <input type="password" class="form-control" id="password" name="password" required="">
                                    <div class="invalid-feedback">필수 입력값입니다.</div>
                                </div>

                                <!-- Password Confirm -->
                                <div class="mb-3 col-md-6">
                                    <label for="passwordConfirm" class="form-label">비밀번호</label>
                                    <input type="password" class="form-control" id="passwordConfirm" required="">
                                    <div class="invalid-feedback">비밀번호가 일치하지 않습니다.</div>
                                </div>
                            </div>

                            <!-- Email + 중복확인 -->
                            <div class="mb-3 col-md-12">
                                <label for="userEmail" class="form-label">이메일</label>
                                <div class="input-group mb-3">
                                    <input type="text" class="form-control" placeholder="" aria-describedby="userEmail-check" id="userEmail" name="userEmail" required>
                                    <button class="btn btn-outline-secondary" type="button" id="userEmail-check">중복확인</button>
                                </div>
                                <div class="invalid-feedback">필수 입력값입니다.</div>
                            </div>

                            <!-- 가입 버튼 -->
                            <div class="d-grid">
                                <button class="btn btn-primary btn-sm" id="btn-signup" type="button">회원가입</button>
                            </div>

                        </form>
                    </div>
                </div>

            </div>
        </div>
    </section>
</th:block>

<th:block layout:fragment="script">
    <script th:src="@{'/assets/js/page/join/join.js'}"></script>
    <script th:inline="javascript">
        $(document).ready(function(e) {

            $("#userId-check").on("click", () => {
               joinJS.duplicateUserIdCheck();
            });

            $("#userEmail-check").on("click", () => {
                joinJS.duplicateUserEmailCheck();
            });

            $("#btn-signup").on("click", () => {
                joinJS.saveForm();
            });

            joinJS.passwordInput.on('input', joinJS.validatePassword);
            joinJS.passwordConfirmInput.on('input', joinJS.validatePassword);
        });
    </script>
</th:block>

</html>